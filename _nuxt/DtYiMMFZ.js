import{a0 as f,aw as c,ax as u}from"./BLFlnk3S.js";const m=t=>t._type==="span",_={types:{span:"span",image:"img"},marks:{strong:"strong",em:"em",link:"a"},styles:{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",normal:"p",blockquote:"blockquote"},listItem:"li",container:"div"},h=["abbr","accesskey","accessKey","action","alt","autocomplete","autofocus","autoplay","charset","checked","cite","class","cols","colspan","command","content","datetime","default","disabled","download","draggable","dropzone","headers","height","hidden","href","hreflang","id","maxlength","minlength","muted","placeholder","preload","radiogroup","readonly","required","role","selected","src","srcdoc","srcset","tabindex","title","value","width","wrap"];function g(t,n){return t!=null&&t.listItem&&t._type!=="list"?n.listItem||"li":t!=null&&t._type?n.types[t._type]||n.marks[t._type]:void 0}function I(t,n,e){const r=t.style&&n.styles[t.style],a=d(t,typeof r=="string");return!t.listItem&&t.style&&r?u(r,a,{default:e}):e==null?void 0:e()}function v(t,n){return o(n,t,()=>(t.children||[]).map(e=>m(e)?l(e.text,e.marks,n,t.markDefs):o(n,e,()=>l(e.text,e.marks,n,t.markDefs))))}function l(t,[n,...e]=[],r,s=[]){if(!n)return t;const a=n in r.marks?{_type:n,_key:""}:s.find(y=>y._key===n);return o(r,a,()=>l(t,e,r,s))}function p(t,n){if(!n.listItem)return t.push(n),t;const e=t[t.length-1]||{};return e._type!=="list"||!e.children||n.level===1&&n.listItem!==e.listItem?(t.push({_type:"list",listItem:n.listItem,level:n.level,children:[n]}),t):n.level===e.level&&n.listItem===e.listItem?(e.children.push(n),t):(p(e.children,n),t)}function o(t,n,e){const r=g(n,t);if(!r)return e==null?void 0:e();if(!n)return;const s=typeof r=="string",a=d(n,s);return s?u(r,a,e==null?void 0:e()):u(r,a,{default:()=>e==null?void 0:e()})}function d(t,n){return Object.fromEntries(Object.entries(t).filter(([e])=>e!=="_type"&&e!=="markDefs").map(([e,r])=>e==="_key"?["key",r||null]:!n||h.includes(e)?[e,r]:[]))}function i(t,n){return t.map(e=>I(e,n,()=>v(e,n)))}const w=f({name:"SanityContent",props:{blocks:{type:Array,default:()=>[]},serializers:{type:Object,default:()=>({})}},setup(t){const n=c(t.serializers,_);return n.types.list=n.types.list||x(n),()=>{var e;return i(((e=t.blocks)==null?void 0:e.reduce(p,[]))||[],n)}}}),x=t=>f({name:"ListComponent",inheritAttrs:!1,props:{children:{type:Array,default:()=>[]},level:{type:Number,default:1}},setup(n){return()=>{var r;const e=((r=n.children[0])==null?void 0:r.listItem)==="number";return n.level>1?u(t.listItem||"li",[u(e?"ol":"ul",{},{default:()=>i(n.children,t)})]):u(e?"ol":"ul",{},{default:()=>i(n.children,t)})}}});export{w as _};
