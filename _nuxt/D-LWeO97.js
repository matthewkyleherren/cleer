import{_ as H}from"./DtYiMMFZ.js";import{_ as Q,g as f,S as E,P as U,i as K,r as l,x as W,w as z,o as G,d as r,e as u,f as o,A as P,t as B,j as g,aA as J,k as s,F as S,h as F,B as X,aB as Y,aC as Z,m as d,p,G as ee,ad as te}from"./BLFlnk3S.js";import{u as ae}from"./Y5bg3bA7.js";import{I as y}from"./CO9DY9Fu.js";import{S as R}from"./DRqQsePn.js";const se={ref:"formRow",class:"row form-row"},oe={class:"main-form"},re={class:"-h4 title"},ne={class:"-body description"},le=["data-formname"],ce=["data-destination"],ie={class:"form-inputs"},me={class:"captcha-container -die-safari-die"},ue={class:"form-response"},de={class:"-h4 title"},pe={class:"-body description"},he={key:1},fe={class:"cards"},ge="Select inquiry topic",ye={__name:"ContactContent",props:{target:{type:String,default:"modal"},title:{type:String,default:"Contact"},description:{type:Object,default:()=>{}},formsList:{type:Array,default:()=>[]},blogPosts:{type:Array,default:()=>[]}},setup(m){f.registerPlugin(E);const c=m,M=U();c.target!=="modal"&&K("pageContext");const x=l(null),w=l(null),b=l(!0),C=l("Submit"),q=l(!0),v=l(null),L=l(!1),A=W(()=>c.formsList.map(t=>t.title)),i=l(c.formsList[0]),h=l(c.formsList[0].destinationEmail),D=l(null),j=t=>t.map(n=>n.value),N=async t=>{i.value=c.formsList.find(a=>a.title===t),h.value=c.formsList.find(a=>a.title===t).destinationEmail;const n=c.formsList.find(a=>a.title===t).slug.current;if(D.value=t,"URLSearchParams"in window){const a=new URLSearchParams(window.location.search);a.set("currentform",n);const e=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+a.toString();window.history.pushState({path:e},"",e)}},T=()=>{const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.defer=!0,t.onload=function(){L.value=!0},t.src="https://www.google.com/recaptcha/api.js",document.getElementsByTagName("head")[0].appendChild(t)};z(L,t=>{t&&(c.target==="modal"?window.grecaptcha.ready(function(){window.grecaptcha.render("recaptcha",{sitekey:"6LdEQwwqAAAAAIVvmutRL2_Mgfk0Anxvkgmroorx"})}):window.grecaptcha.ready(function(){window.grecaptcha.render("recaptcha",{sitekey:"6LdEQwwqAAAAAIVvmutRL2_Mgfk0Anxvkgmroorx"})}))}),G(()=>{T();const n=new URLSearchParams(window.location.search).get("currentform");if(n){const a=c.formsList.find(e=>e.slug.current===n);a&&(i.value=a,h.value=a.destinationEmail,v.value.forceHandleOption(a.title))}else{const a=c.formsList.find(e=>e.slug.current==="other");i.value=a,h.value=a.destinationEmail,v.value.forceHandleOption(a.title)}}),M.on("hide-form",()=>O());const O=()=>{f.to(document.querySelector(".form-row .main-form"),{opacity:0,duration:.5,ease:"power3.out",onComplete:()=>{f.to(document.querySelector(".form-row .main-form"),{height:document.querySelector(".form-row .form-response").offsetHeight,duration:.3,ease:"power3.out"}),f.to(document.querySelector(".form-row .form-response"),{delay:.2,opacity:1,duration:1,pointerEvents:"all",ease:"power3.out"}),setTimeout(()=>E.refresh(),300)}})},_=l(null),{validadeForm:V}=ae(_),I=()=>{if(!b.value)return;const t=[];_.value.querySelectorAll(".input-wrapper").forEach(n=>{const a=n.querySelector(".input");a.value!==""&&t.push(a.value)}),t.length>0&&(b.value=!1,q.value=!1)},$=t=>{if(t.preventDefault(),!window.grecaptcha)throw new Error("ReCaptcha failed to load.");if(w.value=window.grecaptcha.getResponse(),typeof w.value!="string"||w.value.length===0)throw new Error("No Captcha accepted");C.value="Sending",x.value.querySelector(".submit-btn").classList.add("sending"),V()};return(t,n)=>{const a=H;return r(),u("div",{ref_key:"$el",ref:x,"data-component":"contact-form",class:P(`${m.target}`)},[o("div",se,[o("div",{class:P(`wrapper ${m.target==="modal"?"xxlarge-13 xxlarge-offset-18 medium-18 medium-offset-11 small-offset-0 xsmall-32":"xxlarge-14 xxlarge-offset-9 xsmall-32 xsmall-offset-0"} col`)},[o("div",oe,[o("h2",re,B(m.title),1),o("div",ne,[g(a,{blocks:m.description},null,8,["blocks"])]),o("form",{ref_key:"form",ref:_,class:"contact-form",onClick:I,onKeydown:J(I,["tab"])},[g(s(R),{ref_key:"selector",ref:v,"main-label":ge,options:s(A),class:"selector main","click-func":N,scrollable:s(A).length>6},null,8,["options","scrollable"]),o("span",{class:"formname",style:{display:"none",visibilty:"none"},"data-formname":s(D)},null,8,le),o("span",{class:"destination",style:{display:"none",visibilty:"none"},"data-destination":s(h)},null,8,ce),o("div",ie,[(r(!0),u(S,null,F(s(i).fields,(e,k)=>(r(),u(S,{key:k},[e._type==="field.string"?(r(),d(s(y),{key:0,theme:"midnight-light",label:e.label,placeholder:e.label,name:e.salesforceID?e.salesforceID:e.name,required:e.required,"error-message":e.errorMessage},null,8,["label","placeholder","name","required","error-message"])):p("",!0),e._type==="field.email"?(r(),d(s(y),{key:1,type:"email",theme:"midnight-light",label:e.label,placeholder:e.label,name:e.salesforceID?e.salesforceID:e.name,required:e.required,"error-message":e.errorMessage},null,8,["label","placeholder","name","required","error-message"])):p("",!0),e._type==="field.phone"?(r(),d(s(y),{key:2,type:"phone",theme:"midnight-light",label:e.label,placeholder:e.label,name:e.salesforceID?e.salesforceID:e.name,required:e.required,"error-message":e.errorMessage},null,8,["label","placeholder","name","required","error-message"])):p("",!0),e._type==="field.text"?(r(),d(s(y),{key:3,type:"textarea",theme:"midnight-light",label:e.label,placeholder:e.label,name:e.salesforceID?e.salesforceID:e.name,required:e.required,"error-message":e.errorMessage},null,8,["label","placeholder","name","required","error-message"])):p("",!0),e._type==="field.select"?(r(),d(s(R),{key:4,"main-label":e.label,options:j(e.options),class:"selector options",name:e.salesforceID?e.salesforceID:e.name,scrollable:e.options>6,"have-input":!0},null,8,["main-label","options","name","scrollable"])):p("",!0)],64))),128))]),g(s(X),{class:"submit-btn",label:s(C),theme:"blueberry",disabled:s(b),onClick:$},null,8,["label","disabled"]),Y(o("div",me,n[0]||(n[0]=[o("div",{class:"captcha-wrapper"},[o("div",{id:"recaptcha"})],-1)]),512),[[Z,!s(q)]])],544)]),o("div",ue,[o("h2",de,B(s(i).successTitle?s(i).successTitle:"Thank you for your interest. We will respond shortly."),1),o("div",pe,[s(i).successDescription?(r(),d(a,{key:0,blocks:s(i).successDescription},null,8,["blocks"])):(r(),u("p",he,"In the meantime, check our latest news."))]),o("div",fe,[(r(!0),u(S,null,F(m.blogPosts,(e,k)=>(r(),u("div",{key:k,class:"card-wrapper"},[g(s(te),ee({ref_for:!0},e,{class:"card"}),null,16)]))),128))])])],2)],512)],2)}}},Se=Q(ye,[["__scopeId","data-v-936b3893"]]);export{Se as C};
