import{_ as $,r as o,i as M,af as V,d,e as C,f as v,j as m,q as P,k as e,m as b,G as T,p as q,ag as A,B as I,ai as N,aF as j,aG as z,Z as G,o as B,n as H,aH as E,P as K,Y as J,O,aI as U,aJ as Y,$ as Z,au as Q,aK as W,a1 as X}from"./BLFlnk3S.js";import{T as ee}from"./ouFbLk7o.js";import{A as te}from"./BJ8JIdAd.js";import{C as ae}from"./D-LWeO97.js";import"./DtYiMMFZ.js";import"./qBP7SdQI.js";import"./Y5bg3bA7.js";import"./CO9DY9Fu.js";import"./DRqQsePn.js";const se={ref:"inner",class:"inner"},oe={__name:"PageModal",props:{slug:{type:String,default:""}},setup(w){const t=o(null),n=o(!1),l=o(!1),r=o(!1),a=o(null),u=o(null),g=M("$scroller");let i=!1;const{registerActions:h,openAnimation:p,closeAnimation:k}=N(a),_=()=>y(),D=async(s,c)=>{const R=await j(s,c);s==="contact"&&a.value.classList.add("contact-modal"),a.value.classList.add("open"),p(),t.value=R,n.value=s==="blog"||s==="pressReleases",l.value=s==="team",r.value=s==="contact",u.value.resize(),u.value.start(),window.addEventListener("keydown",L);let S="",f;switch(s){case"blog":f="/news/blog/";break;case"pressReleases":f="/news/press-releases/";break;case"team":f="/about/team/";break;case"contact":f="",S=c.includes("currentform")?`?currentform=${c.split("=")[1]}`:"";break}const F=`${f}${t.value.pageSetup.slug.current}${S}`;i=z(F,()=>y("popstate")),g.value.stop()},y=(s="manual")=>{k().then(()=>{a.value.classList.contains("open")&&(a.value.classList.remove("open"),a.value.classList.remove("contact-modal"),t.value=null,n.value=!1,l.value=!1,r.value=!1,u.value.stop(),g.value.start(),x(),s==="manual"&&i&&(window.history.back(),i()))})},x=()=>{t.value=null,n.value=!1,l.value=!1,r.value=!1,window.removeEventListener("keydown",L)};function L(s){s.key==="Escape"&&y()}return h(D,y),V(()=>{x()}),(s,c)=>(d(),C("div",{ref_key:"el",ref:a,"data-component":"page-modal"},[c[0]||(c[0]=v("span",{class:"bg"},null,-1)),c[1]||(c[1]=v("span",{class:"content-bg"},null,-1)),v("span",{class:"click-outside",onClick:_}),m(e(A),{ref_key:"modalScroller",ref:u},{default:P(()=>[v("div",se,[e(l)&&e(t)?(d(),b(e(ee),{key:0,header:e(t).sections.teamHeader,content:e(t).sections.teamContent,target:"modal"},null,8,["header","content"])):e(n)&&e(t)?(d(),b(e(te),{key:1,header:e(t).sections.header,content:e(t).sections.content,target:"modal"},null,8,["header","content"])):e(r)&&e(t)?(d(),b(e(ae),T({key:2},e(t).sections.contactsContent,{"forms-list":e(t).sections.contactsForms.formsList,"blog-posts":e(t).sections.contactsContent.blogPosts,target:"modal"}),null,16,["forms-list","blog-posts"])):q("",!0)],512)]),_:1},512),m(e(I),{class:"close-btn",theme:"blueberry",icon:"close",onClick:_})],512))}},ne=$(oe,[["__scopeId","data-v-5b68c94f"]]),le={__name:"Loading",setup(w){const t=o(null),n=M("$scroller"),{isMobile:l}=G();return B(()=>{l?(t.value.classList.add("loaded"),t.value.remove()):H(()=>{E().loader.loaded.then(()=>{n.value.reset(),t.value.classList.add("loaded"),t.value.remove()})})}),(r,a)=>(d(),C("div",{ref_key:"el",ref:t,"data-component":"loading"},a[0]||(a[0]=[v("span",{class:"-h1"},"Clear Street â€” Modernizing the brokerage ecosystem",-1)]),512))}},re=$(le,[["__scopeId","data-v-042c3869"]]),_e={__name:"default",setup(w){const t=Q(),n=t.public.menuPayload,l=t.public.searchPayload,r=o(n),a=o(l),u=o(null),g=K(),i=J(),h=O();return i.setMenuTheme(U(h.name)),B(()=>{const p=E(),_=document.querySelector("[data-slug]").getAttribute("data-slug");Y(_),setTimeout(()=>p.loader.dispatch("ready"),200),setTimeout(()=>g.emit("menu-enter"),1500)}),Z("$scroller",u),(p,k)=>(d(),C("div",null,[m(e(A),{ref_key:"mainScroller",ref:u,main:!0},{default:P(()=>[m(e(re)),m(e(ne)),m(e(W),T(e(r),{theme:e(i).menuTheme,"search-data":e(a)}),null,16,["theme","search-data"]),X(p.$slots,"default")]),_:3},512)]))}};export{_e as default};
